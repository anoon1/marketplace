import{u as B,r as s,j as e,d as M}from"./index-b349b8ac.js";import{B as P}from"./Breadcrumb-9b91b131.js";import{R,S as O}from"./DocApproveModel-cc6b3596.js";const T=M.baseApiUrl,_=10,$=()=>{const m=B(),f=localStorage.getItem("usertoken"),[u,g]=s.useState([]),[V,h]=s.useState(!0);s.useState(!1);const[Z,j]=s.useState(null),[y,D]=s.useState(!1),[z,w]=s.useState(null),[N,G]=s.useState(null),[v,b]=s.useState(!1),[a,C]=s.useState(1),[i,J]=s.useState(_),[o,S]=s.useState(1),[q,A]=s.useState(!1),[l,c]=s.useState(null),E=()=>{b(!1),d(),window.location.reload(!1)},k=t=>{t.preventDefault(),D(!1),A(!0),w(null),window.location.reload(!1)};async function F(t){m(`/OnboardingAdmin/DocumentViewer?uid=${btoa(t)}`)}const d=async()=>{try{const t=await fetch(`${T}getAllDocuments`,{method:"post",headers:{"Content-type":"application/json"},body:JSON.stringify({token:f,page:a,pageSize:i})});if(t.ok){const n=await t.json();if(n.data=="")c("No Data Found");else{const L=n.data.data.map(x=>{const p=new Date(x.created_at),I=new Intl.DateTimeFormat("en-GB",{day:"numeric",month:"short",year:"numeric"}),U=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0});return{...x,formattedCreatedAt:`${I.format(p)} ${U.format(p)}`}});g(L),S(n.data.totalPages)}}else c("No Data Found")}catch(t){console.log("Error while getting listing data",t),j("Error while fetching data")}finally{h(!1)}};s.useEffect(()=>{d()},[a,i]);const r=t=>{t>=1&&t<=o&&C(t)};return e.jsxs("div",{className:"bg-white",children:[y&&e.jsx(R,{onClose:k,data:N}),v&&e.jsx(O,{onClose:E}),e.jsxs("div",{className:"bg-white border-b border-[#E0E0E0]  overflow-auto",children:[e.jsxs("div",{className:"grid grid-cols-10 pt-[24px] pb-[18px] px-[56px] sm:grid-cols-10 md:min-w-auto min-w-[1000px]",children:[e.jsx("div",{className:"col-span-2 flex items-center leading-[18px]",children:e.jsx("p",{className:"text-[#1D2D5C] text-[16px] font-[500] leading-[18px]",children:"Name"})}),e.jsx("div",{className:"col-span-2 flex items-center leading-[18px]",children:e.jsx("p",{className:"text-[#1D2D5C] text-[16px] font-[500] leading-[18px]",children:"Document Type"})}),e.jsx("div",{className:"col-span-2  items-center flex leading-[18px]",children:e.jsx("p",{className:"text-[#1D2D5C] text-[16px] font-[500] leading-[18px]",children:"Uploaded At"})}),e.jsx("div",{className:"col-span-2 flex items-center leading-[18px]",children:e.jsx("p",{className:"text-[#1D2D5C] text-[16px] font-[500] leading-[18px]",children:"Status"})}),e.jsx("div",{className:"col-span-2 flex items-center leading-[18px]",children:e.jsx("p",{className:"text-[#1D2D5C] text-[16px] font-[500] leading-[18px]",children:"Documents"})})]}),u.map(t=>e.jsxs("div",{className:"grid grid-cols-10 border-t border-[#E0E0E0] pt-[30px]  pb-[30px] px-[48px] md:min-w-auto min-w-[1000px]",children:[e.jsx("div",{className:"col-span-2 items-center flex gap-[10px] pr-[25px]",children:e.jsx("p",{className:"text-[#1D2D5C] text-[16px] font-[600] leading-[126%]",children:t.name})}),e.jsx("div",{className:"col-span-2 flex items-center pr-[25px]",children:e.jsx("p",{className:"text-[#2174F5] text-[14px] font-[400] leading-[22px]",children:t.type})}),e.jsx("div",{className:"col-span-2 flex items-center pr-[25px]",children:e.jsx("p",{className:"rounded-[5px] bg-[#EDF2F9] px-[20px] py-[14px]  text-[#535D7A] text-[14px] font-[400] leading-[18px]",children:t.formattedCreatedAt})}),e.jsx("div",{className:"col-span-2 flex items-center pr-[25px]",children:(()=>t.docStatus==1?e.jsx("p",{className:"inline-flex rounded-full bg-success bg-opacity-10 py-1 px-3 text-sm font-medium text-success",children:"Approved"}):t.docStatus==2?e.jsx("p",{className:"inline-flex rounded-full bg-warning bg-opacity-10 py-1 px-3 text-sm font-medium text-warning",children:"Pending"}):t.docStatus==3?e.jsx("p",{className:"inline-flex rounded-full bg-danger bg-opacity-10 py-1 px-3 text-sm font-medium text-danger",children:"Rejected"}):e.jsx("p",{className:"inline-flex rounded-full bg-gray-500 bg-opacity-10 py-1 px-3 text-sm font-medium text-gray-500",children:"Unknown"}))()}),e.jsx("div",{className:"col-span-2 flex items-center pr-[25px]",children:e.jsx("button",{onClick:()=>{F(t.user_id)},className:"inline-flex items-center justify-center rounded-md bg-[#2174F5] py-[5px] px-[20px] text-center font-[400] text-[#EFF4FB] text-[16px] hover:bg-opacity-90 leading-[23px]",children:" View"})})]}))]}),l&&e.jsx("span",{className:"bg-[gray] text-center mt-[9px] max-w-[708px] w-full rounded-lg  py-[15px]",children:l&&e.jsx("p",{children:l})}),e.jsx("div",{className:"text-center py-[50px]",children:e.jsxs("ul",{className:"inline-flex flex-wrap gap-[18px] items-center",children:[e.jsx("li",{children:e.jsx("a",{className:"flex h-9 items-center justify-center pagination-button",href:"#",onClick:()=>r(a-1),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"6",height:"11",viewBox:"0 0 6 11",fill:"none",children:e.jsx("path",{d:"M5.10746 0C4.88059 0 4.65373 0.0899782 4.47462 0.282791L0.259703 4.82031C-0.0865675 5.19308 -0.0865675 5.81008 0.259703 6.18285L4.47462 10.7204C4.82089 11.0932 5.39403 11.0932 5.7403 10.7204C6.08657 10.3477 6.08657 9.73065 5.7403 9.35788L2.15819 5.50158L5.7403 1.64533C6.08657 1.27256 6.08657 0.655561 5.7403 0.282791C5.57313 0.0899782 5.34627 0 5.10746 0Z",fill:"#535D7A"})})})}),Array.from({length:o},(t,n)=>n+1).map(t=>e.jsx("li",{children:e.jsx("a",{className:`flex items-center justify-center text-[#535D7A] text-[18px] border-2 rounded-[3px] py-[8px] px-[15px] font-medium hover:border-primary hover:bg-gray hover:text-primary dark:border-strokedark dark:hover:border-primary dark:hover:bg-graydark leading-[normal] ${t===a?"active":""}`,href:"#",onClick:()=>r(t),style:{borderColor:t===a?"blue":"#D9D9D9"},children:t})},t)),e.jsx("li",{children:e.jsx("a",{className:"flex h-9 items-center justify-center pagination-button",href:"#",onClick:()=>r(a+1),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"6",height:"11",viewBox:"0 0 6 11",fill:"none",children:e.jsx("path",{d:"M0.892541 0C1.11941 0 1.34627 0.0899782 1.52538 0.282791L5.7403 4.82031C6.08657 5.19308 6.08657 5.81008 5.7403 6.18285L1.52538 10.7204C1.17911 11.0932 0.605973 11.0932 0.259703 10.7204C-0.0865669 10.3477 -0.0865669 9.73065 0.259703 9.35788L3.84181 5.50158L0.259703 1.64533C-0.0865669 1.27256 -0.0865669 0.655561 0.259703 0.282791C0.426867 0.0899782 0.653734 0 0.892541 0Z",fill:"#535D7A"})})})})]})})]})},W=()=>e.jsxs(e.Fragment,{children:[e.jsx(P,{pageName:"Buyer's Documents"}),e.jsx($,{})]});export{W as default};
